{"ast":null,"code":"// server/index.js (Example Socket.io middleware)\nio.use((socket, next) => {\n  const token = socket.handshake.auth.token;\n  if (!token) {\n    return next(new Error(\"Authentication error\"));\n  }\n  // Verify JWT token here...\n  next();\n});\nio.on(\"connection\", socket => {\n  socket.on(\"send_message\", async data => {\n    // 1. Save message to MongoDB using your Message model\n    // 2. Broadcast to others in the room\n    io.to(data.roomId).emit(\"receive_message\", data);\n  });\n});","map":{"version":3,"names":["io","use","socket","next","token","handshake","auth","Error","on","data","to","roomId","emit"],"sources":["C:/Users/M PUJITHA/Downloads/realtime-chat-app/client/src/services/socket.js"],"sourcesContent":["// server/index.js (Example Socket.io middleware)\nio.use((socket, next) => {\n  const token = socket.handshake.auth.token;\n  if (!token) {\n    return next(new Error(\"Authentication error\"));\n  }\n  // Verify JWT token here...\n  next();\n});\n\nio.on(\"connection\", (socket) => {\n  socket.on(\"send_message\", async (data) => {\n    // 1. Save message to MongoDB using your Message model\n    // 2. Broadcast to others in the room\n    io.to(data.roomId).emit(\"receive_message\", data);\n  });\n});"],"mappings":"AAAA;AACAA,EAAE,CAACC,GAAG,CAAC,CAACC,MAAM,EAAEC,IAAI,KAAK;EACvB,MAAMC,KAAK,GAAGF,MAAM,CAACG,SAAS,CAACC,IAAI,CAACF,KAAK;EACzC,IAAI,CAACA,KAAK,EAAE;IACV,OAAOD,IAAI,CAAC,IAAII,KAAK,CAAC,sBAAsB,CAAC,CAAC;EAChD;EACA;EACAJ,IAAI,CAAC,CAAC;AACR,CAAC,CAAC;AAEFH,EAAE,CAACQ,EAAE,CAAC,YAAY,EAAGN,MAAM,IAAK;EAC9BA,MAAM,CAACM,EAAE,CAAC,cAAc,EAAE,MAAOC,IAAI,IAAK;IACxC;IACA;IACAT,EAAE,CAACU,EAAE,CAACD,IAAI,CAACE,MAAM,CAAC,CAACC,IAAI,CAAC,iBAAiB,EAAEH,IAAI,CAAC;EAClD,CAAC,CAAC;AACJ,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}