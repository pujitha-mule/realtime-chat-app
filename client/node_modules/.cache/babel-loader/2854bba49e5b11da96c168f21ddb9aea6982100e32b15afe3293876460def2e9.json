{"ast":null,"code":"import { io } from \"socket.io-client\";\nconst SOCKET_URL = \"http://localhost:5000\";\nlet socket = null;\nexport const getSocket = () => {\n  if (!socket) {\n    const token = localStorage.getItem(\"token\");\n    socket = io(SOCKET_URL, {\n      autoConnect: false,\n      transports: [\"websocket\"],\n      auth: {\n        token\n      }\n    });\n  }\n  return socket;\n};\nexport const connectSocket = () => {\n  const socketInstance = getSocket();\n  if (!socketInstance.connected) {\n    socketInstance.connect();\n  }\n};\nexport const disconnectSocket = () => {\n  if (socket && socket.connected) {\n    socket.disconnect();\n  }\n};","map":{"version":3,"names":["io","SOCKET_URL","socket","getSocket","token","localStorage","getItem","autoConnect","transports","auth","connectSocket","socketInstance","connected","connect","disconnectSocket","disconnect"],"sources":["C:/Users/M PUJITHA/Downloads/realtime-chat-app/client/src/services/socket.js"],"sourcesContent":["import { io } from \"socket.io-client\";\n\nconst SOCKET_URL = \"http://localhost:5000\";\n\nlet socket = null;\n\nexport const getSocket = () => {\n  if (!socket) {\n    const token = localStorage.getItem(\"token\");\n\n    socket = io(SOCKET_URL, {\n      autoConnect: false,\n      transports: [\"websocket\"],\n      auth: {\n        token,\n      },\n    });\n  }\n  return socket;\n};\n\nexport const connectSocket = () => {\n  const socketInstance = getSocket();\n  if (!socketInstance.connected) {\n    socketInstance.connect();\n  }\n};\n\nexport const disconnectSocket = () => {\n  if (socket && socket.connected) {\n    socket.disconnect();\n  }\n};\n"],"mappings":"AAAA,SAASA,EAAE,QAAQ,kBAAkB;AAErC,MAAMC,UAAU,GAAG,uBAAuB;AAE1C,IAAIC,MAAM,GAAG,IAAI;AAEjB,OAAO,MAAMC,SAAS,GAAGA,CAAA,KAAM;EAC7B,IAAI,CAACD,MAAM,EAAE;IACX,MAAME,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;IAE3CJ,MAAM,GAAGF,EAAE,CAACC,UAAU,EAAE;MACtBM,WAAW,EAAE,KAAK;MAClBC,UAAU,EAAE,CAAC,WAAW,CAAC;MACzBC,IAAI,EAAE;QACJL;MACF;IACF,CAAC,CAAC;EACJ;EACA,OAAOF,MAAM;AACf,CAAC;AAED,OAAO,MAAMQ,aAAa,GAAGA,CAAA,KAAM;EACjC,MAAMC,cAAc,GAAGR,SAAS,CAAC,CAAC;EAClC,IAAI,CAACQ,cAAc,CAACC,SAAS,EAAE;IAC7BD,cAAc,CAACE,OAAO,CAAC,CAAC;EAC1B;AACF,CAAC;AAED,OAAO,MAAMC,gBAAgB,GAAGA,CAAA,KAAM;EACpC,IAAIZ,MAAM,IAAIA,MAAM,CAACU,SAAS,EAAE;IAC9BV,MAAM,CAACa,UAAU,CAAC,CAAC;EACrB;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}